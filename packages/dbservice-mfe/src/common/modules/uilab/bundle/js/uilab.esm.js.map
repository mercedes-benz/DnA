{"version":3,"file":"uilab.esm.js","sources":["../../js/src/util/index.js","../../js/src/navigation.js","../../js/src/button.js","../../js/src/select.js","../../js/src/selection-control.js","../../js/src/input-fields.js","../../js/src/tabs.js","../../js/src/expansion-panel.js","../../js/src/notification.js","../../js/src/tooltip.js","../../js/src/progress-indicator.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * UiLab (v1.0.0): util/index.js\n * --------------------------------------------------------------------------\n */\n\nconst makeArray = nodeList => {\n  if (!nodeList) {\n    return []\n  }\n\n  return [].slice.call(nodeList)\n}\n\nconst getRGB = rgbColorString => {\n  const match = rgbColorString.match(/rgba?\\((\\d{1,3}), ?(\\d{1,3}), ?(\\d{1,3})\\)?(?:, ?(\\d(?:\\.\\d?))\\))?/)\n  return match ? { red: match[1], green: match[2], blue: match[3] } : {}\n}\n\nconst getSelectionParent = inputElem => {\n  let elemWrap = inputElem.parentNode\n  if (elemWrap.classList.contains('wrapper')) {\n    elemWrap = elemWrap.parentNode\n  }\n\n  return elemWrap\n}\n\nconst setRippleAnimation = (elem, center = true, rbgaColor) => {\n  let mouseInPressedState = false\n\n  elem.addEventListener('mousedown', e => {\n    const { nodeName } = e.target\n    if (nodeName !== 'INPUT' && nodeName !== 'I' && nodeName !== 'BUTTON' && nodeName !== 'A') {\n      return\n    }\n\n    e.stopPropagation()\n    mouseInPressedState = true\n    let el = elem\n    const animationWrapper = elem.querySelector('.animation-wrapper')\n    if (animationWrapper) {\n      el = animationWrapper\n    }\n\n    const clientRect = el.getBoundingClientRect()\n    let x = clientRect.width / 2\n    let y = clientRect.height / 2\n    if (!center) {\n      x = e.pageX - (clientRect.x + window.pageXOffset)\n      y = e.pageY - (clientRect.y + window.pageYOffset)\n    }\n\n    const duration = 750\n    const offsetDuration = 300\n    const animationStartOpacity = 0.3\n    const opacityLevel = 1.5\n    const stopLevel = 2.5\n    let animationFrame\n    let animationStart\n\n    const rgb = getRGB(rbgaColor || window.getComputedStyle(el).color)\n\n    const animationStep = timestamp => {\n      if (!animationStart) {\n        animationStart = timestamp\n      }\n\n      const frame = timestamp - animationStart\n      const circle = 'circle at ' + x + 'px ' + y + 'px'\n      let color = 'rgba(' + rgb.red + ', ' + rgb.green + ', ' + rgb.blue + ',' + animationStartOpacity + ')'\n      let stop = '100%'\n      if (frame < (duration - offsetDuration)) {\n        const easing = (frame / duration) * (stopLevel - (frame / duration))\n        const opacityEasing = mouseInPressedState ? animationStartOpacity : (animationStartOpacity * (opacityLevel - easing))\n        color = 'rgba(' + rgb.red + ', ' + rgb.green + ', ' + rgb.blue + ', ' + opacityEasing + ')'\n        stop = 90 * easing + '%'\n\n        el.style.backgroundImage = 'radial-gradient(' + circle + ', ' + color + ' ' + stop + ', transparent ' + stop + ')'\n\n        animationFrame = window.requestAnimationFrame(animationStep)\n      } else {\n        if (mouseInPressedState) {\n          el.style.backgroundImage = 'radial-gradient(' + circle + ', ' + color + ' ' + stop + ', transparent ' + stop + ')'\n        } else {\n          el.style.backgroundImage = 'none'\n        }\n\n        window.cancelAnimationFrame(animationFrame)\n      }\n    }\n\n    animationFrame = window.requestAnimationFrame(animationStep)\n  })\n\n  const removeAnimation = () => {\n    let el = elem\n    const animationWrapper = elem.querySelector('.animation-wrapper')\n    if (animationWrapper) {\n      el = animationWrapper\n    }\n\n    el.style.backgroundImage = 'none'\n    mouseInPressedState = false\n  }\n\n  elem.addEventListener('mouseup', removeAnimation)\n  elem.addEventListener('mouseleave', removeAnimation)\n}\n\nconst getSelectionStart = elem => {\n  if (elem.createTextRange) {\n    const r = document.selection.createRange().duplicate()\n    r.moveEnd('character', elem.value.length)\n    if (r.text === '') {\n      return elem.value.length\n    }\n\n    return elem.value.lastIndexOf(r.text)\n  }\n\n  return elem.selectionStart\n}\n\nexport {\n  makeArray,\n  getRGB,\n  getSelectionParent,\n  setRippleAnimation,\n  getSelectionStart\n}\n","/**\n * --------------------------------------------------------------------------\n * UiLab (v1.0.0): navigation.js\n * --------------------------------------------------------------------------\n */\n\nimport {\n  makeArray\n} from './util/index'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nclass Navigation {\n  constructor(element) {\n    this._element = element\n    this.selectActiveLink()\n    this._addEventListeners()\n  }\n\n  selectActiveLink() {\n    makeArray(this._element.querySelectorAll('a[href=\"' + document.location.pathname + '\"]'))\n    .forEach(activeLink => {\n      const subNavItem = activeLink.parentNode.parentNode.parentNode\n      if (subNavItem && subNavItem.classList.contains('has-sub-nav')) {\n        subNavItem.classList.add('opened')\n      }\n    })\n  }\n\n  collapseAll() {\n    makeArray(this._element.querySelectorAll('.has-sub-nav'))\n    .forEach(subnavWrapper => {\n      subnavWrapper.classList.remove('opened')\n    })\n  }\n\n  removeActive() {\n    makeArray(this._element.querySelectorAll('.active'))\n    .forEach(activeItem => {\n      activeItem.classList.remove('active')\n    })\n  }\n\n  _addEventListeners() {\n    makeArray(this._element.querySelectorAll('.has-sub-nav>.nav-link'))\n    .forEach(subnavtoggle => {\n      subnavtoggle.addEventListener('click', e => {\n        const subNavItem = e.target.parentNode\n\n        if (subNavItem.classList.contains('opened')) {\n          subNavItem.style.height = null\n        } else {\n          subNavItem.style.height = (subNavItem.querySelectorAll('.nav-link').length * (subNavItem.clientHeight + 2) - 1) + 'px'\n        }\n\n        subNavItem.classList.toggle('opened')\n      })\n    })\n    makeArray(this._element.querySelectorAll('.nav-item:not(.has-sub-nav)'))\n    .forEach(navItem => {\n      navItem.addEventListener('click', e => {\n        this.removeActive()\n        e.target.parentNode.classList.add('active')\n      })\n    })\n  }\n}\n\nexport default Navigation\n","/**\n * --------------------------------------------------------------------------\n * UiLab (v1.0.0): button.js\n * --------------------------------------------------------------------------\n */\n\nimport {\n  makeArray,\n  setRippleAnimation\n} from './util/index'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nclass Button {\n  static defaultSetup() {\n    // Setup Button click animation\n    makeArray(document.querySelectorAll('.btn:not(.btn-text)'))\n    .forEach(btnElem => {\n      if (btnElem.classList.contains('btn-secondary')) {\n        setRippleAnimation(btnElem, false, 'rgba(192, 200, 208, 1)')\n      } else if (btnElem.classList.contains('btn-icon-circle')) {\n        setRippleAnimation(btnElem)\n      } else {\n        setRippleAnimation(btnElem, false)\n      }\n    })\n  }\n}\n\nButton.defaultSetup()\n\nexport default Button\n","/**\n * --------------------------------------------------------------------------\n * UiLab (v1.0.0): select.js\n * --------------------------------------------------------------------------\n */\n\nimport {\n  setRippleAnimation, makeArray\n} from './util/index'\n\nclass Select {\n  static defaultSetup() {\n    let i\n    let j\n    let selElmnt\n    let a\n    let b\n    let c\n    /* Look for any elements with the class 'custom-select': */\n    const x = document.getElementsByClassName('custom-select')\n    for (i = 0; i < x.length; i++) {\n      selElmnt = x[i].getElementsByTagName('select')[0]\n      /* For each element, create a new DIV that will act as the selected item: */\n      a = document.createElement('DIV')\n      const labelWrapper = document.createElement('SPAN')\n      labelWrapper.setAttribute('class', 'label')\n      const isMultiSelect = selElmnt.hasAttribute('multiple')\n\n      /* For each element, create a new DIV that will contain the option list: */\n      b = document.createElement('DIV')\n\n      if (isMultiSelect) {\n        const valuesSpan = document.createElement('SPAN')\n        valuesSpan.setAttribute('class', 'values')\n        a.appendChild(valuesSpan)\n        a.setAttribute('class', 'select-selected multiple')\n        b.setAttribute('class', 'select-items multiple select-hide')\n        labelWrapper.innerHTML = '<label class=\"checkbox\"><span class=\"wrapper\"><input type=\"checkbox\" value=\"label\"/></span><span class=\"label\">All</span></label>'\n      } else {\n        a.setAttribute('class', 'select-selected')\n        b.setAttribute('class', 'select-items select-hide')\n        labelWrapper.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML\n      }\n\n      a.appendChild(labelWrapper)\n      const animationWrapper = document.createElement('SPAN')\n      animationWrapper.setAttribute('class', 'animation-wrapper')\n      a.appendChild(animationWrapper)\n      const iconElem = document.createElement('I')\n      iconElem.setAttribute('class', 'icon down-up-flip')\n      a.appendChild(iconElem)\n      x[i].appendChild(a)\n      setRippleAnimation(a.parentNode)\n\n      for (j = 0; j < selElmnt.length; j++) {\n        /* For each option in the original select element,\n      create a new DIV that will act as an option item: */\n        c = document.createElement('DIV')\n\n        const optionLabel = selElmnt.options[j].innerHTML\n        const optionValue = selElmnt.options[j].value\n        if (isMultiSelect) {\n          c.innerHTML = '<label class=\"checkbox\"><span class=\"wrapper\"><input type=\"checkbox\" data-index=\"' + j + '\" value=\"' + optionValue + '\"/></span><span class=\"label\">' + optionLabel + '</span></label>'\n          c.addEventListener('click', function (e) {\n            e.stopPropagation()\n            const optionsWrapper = this.parentNode\n            const allCheckBoxElem = optionsWrapper.previousSibling.querySelector('.checkbox')\n            if (e.target.nodeName === 'INPUT') {\n              const allOptions = optionsWrapper.querySelectorAll('input[type=\"checkbox\"]').length\n              const checkedOptions = optionsWrapper.querySelectorAll('input[type=\"checkbox\"]:checked').length\n              const allCB = allCheckBoxElem.querySelector('input[type=\"checkbox\"]')\n              const selectElem = optionsWrapper.parentNode.querySelector('select')\n              allCB.checked = (allOptions === checkedOptions)\n\n              if (allCB.checked) {\n                allCheckBoxElem.classList.add('checked')\n              } else {\n                allCheckBoxElem.classList.remove('checked')\n              }\n\n              selectElem.options[e.target.getAttribute('data-index')].selected = e.target.checked\n            }\n          })\n        } else {\n          if (j === 0) {\n            c.setAttribute('class', 'same-as-selected')\n          }\n\n          c.innerHTML = optionLabel\n\n          c.addEventListener('click', function () {\n            /* When an item is clicked, update the original select box,\n            and the selected item: */\n            let y\n            let i\n            let k\n            const s = this.parentNode.parentNode.getElementsByTagName('select')[0]\n            const h = this.parentNode.previousSibling.childNodes[0]\n            for (i = 0; i < s.length; i++) {\n              if (s.options[i].innerHTML === this.innerHTML) {\n                s.selectedIndex = i\n                h.innerHTML = this.innerHTML\n                y = this.parentNode.getElementsByClassName('same-as-selected')\n                for (k = 0; k < y.length; k++) {\n                  y[k].removeAttribute('class')\n                }\n\n                this.setAttribute('class', 'same-as-selected')\n                break\n              }\n            }\n\n            h.click()\n          })\n        }\n\n        b.appendChild(c)\n      }\n\n      x[i].appendChild(b)\n      a.addEventListener('click', function (e) {\n        /* When the select box is clicked, close any other select boxes,\n      and open/close the current select box: */\n        const selectWrapper = e.target.parentNode\n        const optionsWrapper = this.nextSibling\n        if (selectWrapper.nodeName === 'DIV') {\n          e.stopPropagation()\n          closeAllSelect(this)\n          this.nextSibling.classList.toggle('select-hide')\n          this.classList.toggle('open')\n        } else {\n          e.stopPropagation()\n\n          if (e.target.nodeName === 'INPUT') {\n            const selectElem = optionsWrapper.parentNode.querySelector('select')\n            makeArray(optionsWrapper.querySelectorAll('.checkbox'))\n            .forEach(checkboxElem => {\n              const cb = checkboxElem.querySelector('input[type=\"checkbox\"]')\n              if (e.target.checked) {\n                checkboxElem.classList.add('checked')\n              } else {\n                checkboxElem.classList.remove('checked')\n              }\n\n              cb.checked = e.target.checked\n              selectElem.options[cb.getAttribute('data-index')].selected = e.target.checked\n            })\n          }\n        }\n\n        // Code for mutiple select\n        if (this.classList.contains('multiple')) {\n          manageMultiSelectValues(this)\n        }\n      })\n    }\n\n    function manageMultiSelectValues(selectElem) {\n      const checkedOptions = selectElem.nextSibling.querySelectorAll('.checkbox.checked')\n      const valuesSpan = selectElem.querySelector('.values')\n      const allSpan = selectElem.querySelector('.checkbox>.label')\n      const optionsTextArr = []\n      makeArray(checkedOptions).forEach(checkboxElem => {\n        optionsTextArr.push(checkboxElem.querySelector('.label').innerHTML)\n      })\n\n      if (optionsTextArr.length && !selectElem.classList.contains('open')) {\n        valuesSpan.innerHTML = optionsTextArr.join(', ')\n        allSpan.style.display = 'none'\n      } else {\n        valuesSpan.innerHTML = ''\n        allSpan.style.display = ''\n      }\n    }\n\n    function closeAllSelect(elmnt) {\n      /* A function that will close all select boxes in the document,\n    except the current select box: */\n      let i\n      const arrNo = []\n      const x = document.getElementsByClassName('select-items')\n      const y = document.getElementsByClassName('select-selected')\n      for (i = 0; i < y.length; i++) {\n        const el = y[i]\n        if (elmnt === el) {\n          arrNo.push(i)\n        } else {\n          el.classList.remove('open')\n        }\n\n        // Code for mutiple select\n        if (el.classList.contains('multiple')) {\n          manageMultiSelectValues(el)\n        }\n      }\n\n      for (i = 0; i < x.length; i++) {\n        if (arrNo.indexOf(i)) {\n          x[i].classList.add('select-hide')\n        }\n      }\n    }\n\n    /* If the user clicks anywhere outside the select box,\n  then close all select boxes: */\n    document.addEventListener('click', closeAllSelect)\n  }\n}\nSelect.defaultSetup()\n\nexport default Select\n","/**\n * --------------------------------------------------------------------------\n * UiLab (v1.0.0): selection-control.js\n * --------------------------------------------------------------------------\n */\n\nimport {\n  makeArray,\n  getSelectionParent,\n  setRippleAnimation\n} from './util/index'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nclass SelectionControl {\n  static defaultSetup() {\n    // Setup Animation for Selection Controls\n    makeArray(document.querySelectorAll('.checkbox input, .radio input, .legend input'))\n    .forEach(elem => {\n      setRippleAnimation(elem.parentNode)\n\n      if (elem.type === 'checkbox') {\n        elem.addEventListener('change', e => {\n          const elemWrap = getSelectionParent(e.target)\n          if (e.target.checked) {\n            elemWrap.classList.add('checked')\n          } else {\n            elemWrap.classList.remove('checked')\n          }\n        })\n      }\n    })\n    // Setup Selection Control switch\n    makeArray(document.querySelectorAll('.switch input'))\n    .forEach(switchElem => {\n      setRippleAnimation(switchElem.parentNode)\n      switchElem.addEventListener('change', e => {\n        const elemWrap = getSelectionParent(e.target)\n        if (e.target.checked) {\n          elemWrap.classList.add('on')\n        } else {\n          elemWrap.classList.remove('on')\n        }\n      })\n    })\n    // Setup Selection Control legend\n    makeArray(document.querySelectorAll('.legend input'))\n    .forEach(legendElem => {\n      legendElem.addEventListener('change', e => {\n        const elemWrap = getSelectionParent(e.target)\n\n        makeArray(document.querySelectorAll('.legend input[name=' + e.target.name + ']'))\n        .forEach(elem => {\n          if (!elem.checked) {\n            getSelectionParent(elem).classList.remove('active')\n          }\n        })\n\n        elemWrap.classList.add('active')\n      })\n    })\n  }\n}\n\nSelectionControl.defaultSetup()\n\nexport default SelectionControl\n","/**\n * --------------------------------------------------------------------------\n * UiLab (v1.0.0): InputFields.js\n * --------------------------------------------------------------------------\n */\n\nimport {\n  makeArray,\n  getSelectionStart\n} from './util/index'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nclass InputFields {\n  static defaultSetup() {\n    function validateFloatKeyPress(el, evt) {\n      const charCode = (evt.which) ? evt.which : evt.keyCode\n      const number = el.value.split('.')\n      if (charCode !== 46 && charCode > 31 && (charCode < 48 || charCode > 57)) {\n        return false\n      }\n\n      // just one dot (thanks ddlab)\n      if (number.length > 1 && charCode === 46) {\n        return false\n      }\n\n      // get the carat position\n      const caratPos = getSelectionStart(el)\n      const dotPos = el.value.indexOf('.')\n      if (caratPos > dotPos && dotPos > -1 && (number[1].length > 1)) {\n        return false\n      }\n\n      return true\n    }\n\n    function updateNumericValue(inputElem, decrease) {\n      const stepValueText = inputElem.getAttribute('step-value')\n      const stepValue = parseFloat(stepValueText)\n      inputElem.focus()\n      let numericValue = parseFloat(inputElem.value || 0)\n      if (decrease) {\n        numericValue -= stepValue\n      } else {\n        numericValue += stepValue\n      }\n\n      let decimalFixing = 0\n      if (stepValueText.indexOf('.') !== -1) {\n        decimalFixing = stepValueText.split('.')[1].length\n      }\n\n      inputElem.value = numericValue.toFixed(decimalFixing)\n    }\n\n    // Setup InputFields click animation\n    makeArray(document.querySelectorAll('.input-field, .input-field-area'))\n    .forEach(inputElem => {\n      inputElem.addEventListener('focus', evt => {\n        evt.target.parentNode.classList.add('focused')\n      })\n\n      inputElem.addEventListener('blur', evt => {\n        const elem = evt.target\n        const elemWrapper = elem.parentNode\n        elemWrapper.classList.remove('focused')\n        let errorMsgElem = elemWrapper.querySelector('.error-message')\n\n        if (elem.hasAttribute('required') && elem.value.trim() === '') {\n          elemWrapper.classList.add('error')\n\n          if (elem.hasAttribute('required-error')) {\n            const errorMessage = elem.getAttribute('required-error')\n            if (errorMsgElem) {\n              errorMsgElem.innerHTML = errorMessage\n            } else {\n              errorMsgElem = document.createElement('SPAN')\n              errorMsgElem.classList.add('error-message')\n              errorMsgElem.innerHTML = errorMessage\n              elemWrapper.append(errorMsgElem)\n            }\n          }\n        } else {\n          elemWrapper.classList.remove('error')\n          if (errorMsgElem) {\n            elemWrapper.removeChild(errorMsgElem)\n          }\n        }\n      })\n\n      if (inputElem.classList.contains('numeric')) {\n        const elemWrapper = inputElem.parentNode\n        const stepValue = inputElem.hasAttribute('step-value')\n\n        if (stepValue) {\n          inputElem.classList.add('has-step-value')\n          const upArrow = document.createElement('I')\n          const downArrow = document.createElement('I')\n          upArrow.classList.add('icon', 'arrow', 'up')\n          downArrow.classList.add('icon', 'arrow', 'down')\n          const triggerWrapper = document.createElement('DIV')\n          triggerWrapper.classList.add('trigger-wrapper')\n          triggerWrapper.style.top = inputElem.offsetTop + 'px'\n          triggerWrapper.append(upArrow)\n          triggerWrapper.append(downArrow)\n          elemWrapper.append(triggerWrapper)\n          const intervalTimeout = 300\n          let intervalId\n          let pressedTime\n\n          downArrow.addEventListener('mousedown', evt => {\n            evt.preventDefault()\n            pressedTime = new Date()\n            intervalId = setInterval(() => {\n              updateNumericValue(inputElem, true)\n            }, intervalTimeout)\n          })\n\n          upArrow.addEventListener('mousedown', evt => {\n            evt.preventDefault()\n            pressedTime = new Date()\n            intervalId = setInterval(() => {\n              updateNumericValue(inputElem)\n            }, intervalTimeout)\n          })\n\n          upArrow.addEventListener('mouseup', () => {\n            clearInterval(intervalId)\n          })\n\n          downArrow.addEventListener('mouseup', () => {\n            clearInterval(intervalId)\n          })\n\n          window.addEventListener('mouseup', () => {\n            clearInterval(intervalId)\n          })\n\n          downArrow.addEventListener('click', () => {\n            if (new Date().getTime() - pressedTime.getTime() < intervalTimeout) {\n              updateNumericValue(inputElem, true)\n            }\n          })\n\n          upArrow.addEventListener('click', () => {\n            if (new Date().getTime() - pressedTime.getTime() < intervalTimeout) {\n              updateNumericValue(inputElem)\n            }\n          })\n        }\n\n        inputElem.addEventListener('keypress', evt => {\n          if (!validateFloatKeyPress(evt.target, evt)) {\n            evt.preventDefault()\n          }\n        })\n      }\n    })\n  }\n\n  static refresh() {\n    makeArray(document.querySelectorAll('.has-step-value'))\n    .forEach(inputStepElem => {\n      inputStepElem.parentNode.querySelector('.trigger-wrapper').style.top = inputStepElem.offsetTop + 'px'\n    })\n  }\n}\n\nInputFields.defaultSetup()\n\nexport default InputFields\n","import {\n  setRippleAnimation, makeArray\n} from './util/index'\nimport InputFields from './input-fields'\n\nclass Tabs {\n  constructor(element) {\n    this._element = element\n  }\n\n  static defaultSetup() {\n    const tabs = document.querySelectorAll('.tabs')\n\n    makeArray(tabs).forEach(tabsElem => {\n      const tabItems = tabsElem.getElementsByClassName('tab')\n\n      const activeIndicator = document.createElement('SPAN')\n      activeIndicator.setAttribute('class', 'active-indicator')\n\n      makeArray(tabItems).forEach(tabElem => {\n        tabElem.addEventListener('click', setActiveClass)\n\n        if (tabElem.classList.contains('active')) {\n          moveActiveIndicator(tabsElem, tabElem, activeIndicator)\n          showActiveTabContent(tabElem, tabsElem.parentNode.parentNode.parentNode)\n        }\n\n        setRippleAnimation(tabElem.firstChild, false, 'rgba(192, 200, 208, 1)')\n      })\n\n      if (tabsElem.scrollWidth > tabsElem.clientWidth) {\n        const tabPanel = tabsElem.parentNode.parentNode\n        const arrowLeftElem = document.createElement('BUTTON')\n        arrowLeftElem.setAttribute('class', 'previous')\n        arrowLeftElem.innerHTML = '<i class=\"icon arrow left\"></i>'\n        tabPanel.prepend(arrowLeftElem)\n        const arrowRightElem = document.createElement('BUTTON')\n        arrowRightElem.setAttribute('class', 'next')\n        arrowRightElem.innerHTML = '<i class=\"icon arrow right\"></i>'\n        tabPanel.append(arrowRightElem)\n        tabPanel.classList.add('scrollable')\n        setRippleAnimation(arrowLeftElem, true, 'rgba(0, 173, 239, 1)')\n        setRippleAnimation(arrowRightElem, true, 'rgba(0, 173, 239, 1)')\n        arrowLeftElem.addEventListener('click', scrollTabs)\n        arrowRightElem.addEventListener('click', scrollTabs)\n        let timerId = 0\n        tabsElem.addEventListener('scroll', e => {\n          clearInterval(timerId)\n          timerId = setTimeout(() => {\n            manageScrollTriggers(e.target, arrowLeftElem, arrowRightElem)\n          }, 100)\n        })\n\n        manageScrollTriggers(tabsElem, arrowLeftElem, arrowRightElem)\n      }\n\n      tabsElem.appendChild(activeIndicator)\n    })\n\n    function setActiveClass(evt) {\n      evt.preventDefault()\n      const tabElem = evt.currentTarget\n      const tabsElem = tabElem.parentNode\n      const curTabs = tabsElem.querySelectorAll('.tab')\n      makeArray(curTabs).forEach(tab => {\n        tab.classList.remove('active')\n      })\n\n      moveActiveIndicator(tabsElem, tabElem)\n\n      tabElem.classList.add('active')\n\n      showActiveTabContent(tabElem, tabsElem.parentNode.parentNode.parentNode)\n    }\n\n    function scrollTabs(evt) {\n      const arrowElem = evt.currentTarget\n      const tabNavElem = arrowElem.parentNode\n      const tabsElem = tabNavElem.querySelector('.tabs')\n      let leftScrollVal = 0\n      if (arrowElem.classList.contains('next')) {\n        leftScrollVal = tabsElem.scrollLeft + tabsElem.clientWidth\n      } else {\n        leftScrollVal = tabsElem.scrollLeft - tabsElem.clientWidth\n      }\n\n      tabsElem.scroll({\n        left: leftScrollVal,\n        behavior: 'smooth'\n      })\n    }\n\n    function manageScrollTriggers(tabsElem, arrowLeftElem, arrowRightElem) {\n      arrowLeftElem.classList.remove('hide')\n      arrowRightElem.classList.remove('hide')\n      if (!tabsElem.scrollLeft) {\n        arrowLeftElem.classList.add('hide')\n      } else if (tabsElem.scrollWidth - tabsElem.scrollLeft === tabsElem.clientWidth) {\n        arrowRightElem.classList.add('hide')\n      }\n    }\n\n    function moveActiveIndicator(tabsElem, tabElem, activeIndicator) {\n      let timeOut = 0\n      if (activeIndicator) {\n        timeOut = 500\n      } else {\n        activeIndicator = tabsElem.querySelector('.active-indicator')\n      }\n\n      const tabsClientRect = tabsElem.getBoundingClientRect()\n      const tabClientRect = tabElem.getBoundingClientRect()\n      const leftScrollVal = (tabClientRect.x - tabsClientRect.x) + tabsElem.scrollLeft\n      activeIndicator.style.width = tabClientRect.width + 'px'\n      activeIndicator.style.left = leftScrollVal + 'px'\n\n      let leftScrollCorrection = 0\n      let correctedTabsElemLeftScrollVal = 0\n      if (tabClientRect.left < tabsClientRect.left) {\n        leftScrollCorrection = parseInt(tabsClientRect.left - tabClientRect.left, 10)\n        correctedTabsElemLeftScrollVal = tabsElem.scrollLeft - leftScrollCorrection\n      } else if (tabClientRect.left + tabClientRect.width > tabsClientRect.left + tabsClientRect.width) {\n        leftScrollCorrection = parseInt(((tabClientRect.left + tabClientRect.width) - (tabsClientRect.left + tabsClientRect.width)), 10)\n        correctedTabsElemLeftScrollVal = leftScrollCorrection ? tabsElem.scrollLeft + leftScrollCorrection : 0\n      }\n\n      if (leftScrollCorrection) {\n        setTimeout(() => {\n          tabsElem.scroll({\n            left: correctedTabsElemLeftScrollVal,\n            behavior: 'smooth'\n          })\n\n          if (timeOut) {\n            moveActiveIndicator(tabsElem, tabElem)\n          }\n        }, timeOut)\n      }\n    }\n\n    function showActiveTabContent(activeTab, tabPanel) {\n      const tabContents = tabPanel.querySelectorAll('.tab-content')\n      makeArray(tabContents).forEach(tabContent => {\n        tabContent.classList.remove('active')\n      })\n      const tabId = activeTab.querySelector('a').getAttribute('href')\n      if (tabId) {\n        tabPanel.querySelector(tabId).classList.add('active')\n      }\n\n      InputFields.refresh()\n    }\n  }\n}\nTabs.defaultSetup()\n\nexport default Tabs\n","/**\n * --------------------------------------------------------------------------\n * UiLab (v1.0.0): expansion-panel.js\n * --------------------------------------------------------------------------\n */\n\nimport {\n  makeArray,\n  getSelectionParent,\n  setRippleAnimation\n} from './util/index'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nclass ExpansionPanel {\n  static defaultSetup() {\n    // Setup Animation for Expansion Controls\n    makeArray(document.querySelectorAll('.expansion-panel input'))\n    .forEach(elem => {\n      setRippleAnimation(elem.parentNode)\n      if (elem.type === 'checkbox') {\n        elem.addEventListener('change', e => {\n          const elemWrap = getSelectionParent(e.target)\n          if (e.target.checked) {\n            elemWrap.classList.add('open')\n          } else {\n            elemWrap.classList.remove('open')\n          }\n        })\n      }\n    })\n  }\n}\n\nExpansionPanel.defaultSetup()\n\nexport default ExpansionPanel\n","/**\n * --------------------------------------------------------------------------\n * UiLab (v1.0.0): notification.js\n * --------------------------------------------------------------------------\n */\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nclass Notification {\n  static show(message, type = 'success', hideDelay = 6000) {\n    const notificationElement = document.createElement('DIV')\n    const messageElement = document.createElement('P')\n    const closeElement = document.createElement('I')\n    closeElement.classList.add('icon', 'close')\n    notificationElement.classList.add('notification', 'toast')\n    if (type) {\n      notificationElement.classList.add(type)\n    }\n\n    messageElement.innerText = message\n    notificationElement.append(messageElement)\n    notificationElement.append(closeElement)\n\n    closeElement.addEventListener('click', evt => {\n      evt.target.parentNode.classList.add('hide')\n    })\n\n    notificationElement.addEventListener('transitionend', evt => {\n      const notificationElement = evt.target\n      const notificationWrapper = notificationElement.parentNode\n      if (notificationWrapper && notificationElement.classList.contains('hide')) {\n        notificationWrapper.removeChild(notificationElement)\n        if (!notificationWrapper.childNodes.length) {\n          notificationWrapper.parentNode.removeChild(notificationWrapper)\n        }\n\n        if (notificationWrapper.childNodes.length > 3) {\n          notificationWrapper.firstChild.classList.remove('show')\n          notificationWrapper.firstChild.classList.add('hide')\n        }\n      }\n    })\n\n    const wrapper = document.getElementById('notification-wrapper')\n    if (wrapper) {\n      wrapper.append(notificationElement)\n      if (wrapper.childNodes.length > 3) {\n        wrapper.firstChild.classList.add('hide')\n      }\n    } else {\n      const notificationWrapper = document.createElement('DIV')\n      notificationWrapper.setAttribute('id', 'notification-wrapper')\n      notificationWrapper.classList.add('notification-wrapper')\n      notificationWrapper.append(notificationElement)\n      document.body.append(notificationWrapper)\n    }\n\n    setTimeout(() => {\n      notificationElement.classList.add('show')\n      if (wrapper && wrapper.childNodes.length > 3) {\n        notificationElement.classList.add('delay')\n      }\n    }, 20)\n\n    if (wrapper && wrapper.childNodes.length > 3) {\n      setTimeout(() => {\n        notificationElement.classList.remove('delay')\n      }, 100)\n    }\n\n    setTimeout(() => {\n      notificationElement.classList.add('hide')\n    }, hideDelay)\n  }\n}\n\nexport default Notification\n","/**\n * --------------------------------------------------------------------------\n * UiLab (v1.0.0): tooltip.js\n * --------------------------------------------------------------------------\n */\n\nimport {\n  makeArray\n} from './util/index'\nimport Popper from 'popper.js'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nclass Tooltip {\n  static defaultSetup() {\n    makeArray(document.querySelectorAll('[tooltip-data]'))\n    .forEach(elem => {\n      let popper = null\n      elem.addEventListener('mouseover', () => {\n        const message = elem.getAttribute('tooltip-data')\n        const tooltipElement = document.createElement('DIV')\n        tooltipElement.classList.add('tooltip')\n        tooltipElement.innerText = message\n        document.body.append(tooltipElement)\n        setTimeout(() => {\n          tooltipElement.classList.add('show')\n        }, 20)\n        popper = new Popper(elem, tooltipElement, { placement: 'top' })\n      })\n\n      elem.addEventListener('mouseout', () => {\n        const elem = document.querySelector('.tooltip')\n        elem.parentNode.removeChild(elem)\n        popper.destroy()\n      })\n    })\n  }\n}\n\nTooltip.defaultSetup()\n\nexport default Tooltip\n","/**\n * --------------------------------------------------------------------------\n * UiLab (v1.0.0): progress-indicator.js\n * --------------------------------------------------------------------------\n */\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\nconst PROGRESS_RING_RADIUS = 22.5\nconst PROGRESS_RING_X_Y = 25\nconst PROGRESS_BLOCK_WRAPPER_CLASS = 'progress-block-wrapper'\nconst PROGRESS_CLASS = 'progress'\nconst PROGRESS_INFINITE_CLASS = 'infinite'\nconst PROGRESS_DETERMINITE_CLASS = 'determinite'\n\nclass ProgressIndicator {\n  constructor(element) {\n    this._element = element\n    this.setupProgressRing()\n  }\n\n  setupProgressRing() {\n    const svgCircle = `<circle class=\"progress-ring-circle\" r=\"${PROGRESS_RING_RADIUS}\" cx=\"${PROGRESS_RING_X_Y}\" cy=\"${PROGRESS_RING_X_Y}\" />`\n    this._element.innerHTML = `<svg class=\"progress-ring\">${svgCircle}</svg>`\n  }\n\n  setProgress(percent) {\n    const circle = this._element.querySelector('circle')\n    const radius = circle.r.baseVal.value\n    const circumference = radius * 2 * Math.PI\n    circle.style.strokeDasharray = `${circumference} ${circumference}`\n    const offset = circumference - percent / 100 * circumference\n    circle.style.strokeDashoffset = offset\n  }\n\n  static show(progress) {\n    console.log(document.body.querySelector('.' + PROGRESS_BLOCK_WRAPPER_CLASS))\n    const progressBlockWrapper = document.body.querySelector('.' + PROGRESS_BLOCK_WRAPPER_CLASS) || document.createElement('DIV')\n    progressBlockWrapper.innerHTML = ''\n    const progressElem = document.createElement('DIV')\n    progressBlockWrapper.classList.add(PROGRESS_BLOCK_WRAPPER_CLASS)\n    progressElem.classList.add(PROGRESS_CLASS)\n    this._element = progressElem\n    if (progress) {\n      progressElem.classList.add(PROGRESS_DETERMINITE_CLASS)\n      this.determiniteProgress = new this(progressElem)\n      this.determiniteProgress.setProgress(progress)\n    } else {\n      progressElem.classList.add(PROGRESS_INFINITE_CLASS)\n    }\n\n    progressBlockWrapper.append(progressElem)\n    document.body.append(progressBlockWrapper)\n  }\n\n  static setProgress(progress) {\n    if (this.determiniteProgress) {\n      this.determiniteProgress.setProgress(progress)\n    }\n  }\n\n  static hide() {\n    const progressBlockWrapper = this._element ? this._element.parentNode : document.body.querySelector('.' + PROGRESS_BLOCK_WRAPPER_CLASS)\n    if (progressBlockWrapper && progressBlockWrapper.classList.contains(PROGRESS_BLOCK_WRAPPER_CLASS)) {\n      progressBlockWrapper.parentNode.removeChild(progressBlockWrapper)\n    }\n  }\n}\n\nexport default ProgressIndicator\n"],"names":["makeArray","nodeList","slice","call","getRGB","rgbColorString","match","red","green","blue","getSelectionParent","inputElem","elemWrap","parentNode","classList","contains","setRippleAnimation","elem","center","rbgaColor","mouseInPressedState","addEventListener","e","nodeName","target","stopPropagation","el","animationWrapper","querySelector","clientRect","getBoundingClientRect","x","width","y","height","pageX","window","pageXOffset","pageY","pageYOffset","duration","offsetDuration","animationStartOpacity","opacityLevel","stopLevel","animationFrame","animationStart","rgb","getComputedStyle","color","animationStep","timestamp","frame","circle","stop","easing","opacityEasing","style","backgroundImage","requestAnimationFrame","cancelAnimationFrame","removeAnimation","getSelectionStart","createTextRange","r","document","selection","createRange","duplicate","moveEnd","value","length","text","lastIndexOf","selectionStart","Navigation","element","_element","selectActiveLink","_addEventListeners","querySelectorAll","location","pathname","forEach","activeLink","subNavItem","add","collapseAll","subnavWrapper","remove","removeActive","activeItem","subnavtoggle","clientHeight","toggle","navItem","Button","defaultSetup","btnElem","Select","i","j","selElmnt","a","b","c","getElementsByClassName","getElementsByTagName","createElement","labelWrapper","setAttribute","isMultiSelect","hasAttribute","valuesSpan","appendChild","innerHTML","options","selectedIndex","iconElem","optionLabel","optionValue","optionsWrapper","allCheckBoxElem","previousSibling","allOptions","checkedOptions","allCB","selectElem","checked","getAttribute","selected","k","s","h","childNodes","removeAttribute","click","selectWrapper","nextSibling","closeAllSelect","checkboxElem","cb","manageMultiSelectValues","allSpan","optionsTextArr","push","join","display","elmnt","arrNo","indexOf","SelectionControl","type","switchElem","legendElem","name","InputFields","validateFloatKeyPress","evt","charCode","which","keyCode","number","split","caratPos","dotPos","updateNumericValue","decrease","stepValueText","stepValue","parseFloat","focus","numericValue","decimalFixing","toFixed","elemWrapper","errorMsgElem","trim","errorMessage","append","removeChild","upArrow","downArrow","triggerWrapper","top","offsetTop","intervalTimeout","intervalId","pressedTime","preventDefault","Date","setInterval","clearInterval","getTime","refresh","inputStepElem","Tabs","tabs","tabsElem","tabItems","activeIndicator","tabElem","setActiveClass","moveActiveIndicator","showActiveTabContent","firstChild","scrollWidth","clientWidth","tabPanel","arrowLeftElem","prepend","arrowRightElem","scrollTabs","timerId","setTimeout","manageScrollTriggers","currentTarget","curTabs","tab","arrowElem","tabNavElem","leftScrollVal","scrollLeft","scroll","left","behavior","timeOut","tabsClientRect","tabClientRect","leftScrollCorrection","correctedTabsElemLeftScrollVal","parseInt","activeTab","tabContents","tabContent","tabId","ExpansionPanel","Notification","show","message","hideDelay","notificationElement","messageElement","closeElement","innerText","notificationWrapper","wrapper","getElementById","body","Tooltip","popper","tooltipElement","Popper","placement","destroy","PROGRESS_RING_RADIUS","PROGRESS_RING_X_Y","PROGRESS_BLOCK_WRAPPER_CLASS","PROGRESS_CLASS","PROGRESS_INFINITE_CLASS","PROGRESS_DETERMINITE_CLASS","ProgressIndicator","setupProgressRing","svgCircle","setProgress","percent","radius","baseVal","circumference","Math","PI","strokeDasharray","offset","strokeDashoffset","progress","console","log","progressBlockWrapper","progressElem","determiniteProgress","hide"],"mappings":"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"}